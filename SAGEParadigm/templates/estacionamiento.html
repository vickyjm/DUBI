{% load staticfiles %}
<!DOCTYPE html>
<html lang="es"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <meta charset="utf-8">
    <title>
      SAGE
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/base.css" rel="stylesheet">
    <link href="/static/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/validParametrizar.js"></script>
   </head>

 <body>
        
        <!-- Header -->
<div id="top-nav" class="navbar navbar-inverse navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-toggle"></span>
      </button>
          <div class="navbar-brand" href="#">
            SAGE
          </div>
    </div>
  </div><!-- /container -->
</div>
<!-- /Header -->

<!-- Main -->
<div class="container">
  
  <!-- upper section -->
  <div class="row">
  <div class="col-sm-2" style = "width: 17.3%;">
      <!-- left -->
                <h3>
            <i class="glyphicon glyphicon-briefcase">
            </i>
            Menú
          </h3>
      <hr>
      

         <ul class="nav nav-stacked">
            <li>
              <a href="..">
                <i class="fa fa-bus"></i>
                Estacionamientos
              </a>
            </li>
          </ul>
		<hr>
          
          
            <ul class="nav nav-stacked">
              <li>
              <p style="position:relative; display: block;padding: 10px 15px;">
                  <i class="glyphicon glyphicon-wrench" ></i>
                                  
                  Parametrizar
                
                </p>
                  {% if not estacionamiento.NroPuesto %}
                  <p style="position:relative; display: block;padding: 10px 15px; color: #aaa">
                  <i class="fa fa-pencil-square-o" ></i>
        
                  Reservar
                	</p>
                 <p style="position:relative; display: block;padding: 10px 15px;color: #aaa">
                    <i class="fa fa-area-chart" ></i>
                   Tasa de ocupación
                 </p>
                {% endif %}
          		{% if estacionamiento.NroPuesto %}
                <a href="./reserva">
                  <i class="fa fa-pencil-square-o"></i>
                  Reservar
                </a>
                <a href="./ocupacion">
                  <i class="fa fa-area-chart"></i>
                  Tasa de ocupación
                </a>
                {% endif %}
               
              </li>
            </ul>
          
      <hr>
      
    </div><!-- /span-3 -->
    <div class="col-sm-9">
        
      <!-- column 2 --> 
       <h3><i class="fa fa-bus"></i> Estacionamiento {{estacionamiento.Nombre}}</h3>  
            
       <hr>
      
     <!--/row-->
    <div class="col-md-4">
      
      <table class="table table-striped">
        <thead>
          
        </thead>
        <tbody>
        
			<tr><td><b><i class="fa fa-car"></i> Nombre del estacionamiento:</b></td></tr>
			<tr><td>{{estacionamiento.Nombre}}</td></tr>

			<tr><td><b><i class="fa fa-user"></i> Nombre del propietario:</b></td></tr>
			<tr><td>{{estacionamiento.Propietario}}</td></tr>

			<tr><td><b><i class="fa fa-home"></i> Dirección:</b></td></tr>
			<tr><td>{{estacionamiento.Direccion}}</td></tr>

			{% if estacionamiento.Telefono_1 %}
				<tr><td><b><i class="fa fa-phone"></i> Teléfono:</b></td></tr>
				<tr><td>{{estacionamiento.Telefono_1}}</td></tr>
			{% endif %}

			{% if estacionamiento.Telefono_2 %}
				<tr><td><b><i class="fa fa-phone"></i> Teléfono:</b></td></tr>
				<tr><td>{{estacionamiento.Telefono_2}}</td></tr>
			{% endif %}

			 {% if estacionamiento.Telefono_3 %}
				<tr><td><b><i class="fa fa-phone"></i> Teléfono:</b></td></tr>
				<tr><td>{{estacionamiento.Telefono_3}}</td></tr>
			{% endif %}

			{% if estacionamiento.Email_1 %}
				<tr><td><b><i class="fa fa-at"></i> Correo Electrónico:</b></td></tr>
				<tr><td>{{estacionamiento.Email_1}}</td></tr>
			{% endif %}

			{% if estacionamiento.Email_2 %}
			<tr><td><b><i class="fa fa-at"></i> Correo Electrónico:</b></td></tr>
			<tr><td>{{estacionamiento.Email_2}}</td></tr>
			{% endif %}


			<tr><td><b><i class="fa fa-circle"></i> RIF:</b></td></tr>
			<tr><td>{{estacionamiento.Rif}}</td></tr>
          
        </tbody>
      </table>
      
        
      <hr>
      
   

    
    </div>
    <div class="col-md-4">
       
       <table class="table table-striped">
        <thead>
          
        </thead>
        <tbody>
      {% if estacionamiento.Esquema %}
        <tr><td><b><i class="fa fa-car"></i> Puestos:</b></td></tr>
        <tr><td>{{estacionamiento.NroPuesto}}</td></tr>
      {% endif %}
      {% if estacionamiento.Reservas_Inicio or estacionamiento.Reservas_Cierre or estacionamiento.Apertura or estacionamiento.Cierre%}
	    <tr><td><b><i class="fa fa-clock-o"></i> Hora de inicio de reservas:</b></td></tr>
	    <tr><td>{{estacionamiento.Reservas_Inicio}}</td></tr>
	    <tr><td><b><i class="fa fa-clock-o"></i> Hora de fin de reservas:</b></td></tr>
	    <tr><td>{{estacionamiento.Reservas_Cierre}}</td></tr>
	    <tr><td><b><i class="fa fa-clock-o"></i> Hora de apertura:</b></td></tr>
	    <tr><td>{{estacionamiento.Apertura}}</td></tr>
	    <tr><td><b><i class="fa fa-clock-o"></i> Hora de cierre:</b></td></tr>
	    <tr><td>{{estacionamiento.Cierre}}</td></tr>
        <tr><td><b><i class="fa fa-money"></i></i> Esquema:</b></td></tr>
        <tr><td>{{estacionamiento.Esquema}}</td></tr>
        <tr><td><b><i class="fa fa-money"></i></i> Tarifa:</b></td></tr>
        <tr><td>{{esquema.Tarifa}} Bsf.</td></tr>
      {% endif %}
      {% if esquema.PicoIni or esquema.PicoFin or esquema.TarifaPico %}
	    <tr><td><b><i class="fa fa-clock-o"></i> Inicio de Horario Pico:</b></td></tr>
	    <tr><td>{{esquema.PicoIni}}</td></tr>
	    <tr><td><b><i class="fa fa-clock-o"></i> Fin de Horario Pico:</b></td></tr>
	    <tr><td>{{esquema.PicoFin}}</td></tr>
        <tr><td><b><i class="fa fa-money"></i></i> Tarifa de Horario Pico:</b></td></tr>
        <tr><td>{{esquema.TarifaPico}} Bsf.</td></tr>
      {% endif %}
      {% if estacionamiento.Esquema == "DifFin" %}
        <tr><td><b><i class="fa fa-money"></i></i> Tarifa de Fin de Semana:</b></td></tr>
        <tr><td>{{esquema.TarifaFin}} Bsf.</td></tr>
      {% endif %}
      
        </tbody>
      </table>
      <hr>
    </div><div class="col-md-4">

    
          <div class="panel panel-default">
            <div class="panel-heading">
              <div class="panel-title">
                <i class="glyphicon glyphicon-wrench pull-right">
                </i>
                <h4>
                  Parametrizar
                </h4>
              </div>
            </div>
            <div class="panel-body">

      

              <form action="." method="post" class="form form-vertical">
              {% csrf_token %}
              {% for field in form %}
              	<div class="control-group">
                  <div class="controls">
					<h5>{{field.label}} (*)</h5>
					{% if field.name == "puestos" %}
                   		{% if field.value %}
                   			<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{field.value}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo enteros positivos"><p>
                   		{% elif estacionamiento.NroPuesto %}
                   			<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{estacionamiento.NroPuesto}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo enteros positivos"><p>
                   		{% else %}	
							<input type="text" class="form-control" name="{{field.name}}" placeholder="" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo enteros positivos"><p>                   		
                   		{% endif %}
                   	{% elif field.name == "horarioin" %}
                    	{% if field.value%}
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{field.value}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% elif estacionamiento.Cierre %}             
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{hApertura}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% else %}
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% endif %}
                    {% elif field.name == "horarioout" %}
                    	{% if field.value %}
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{field.value}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% elif estacionamiento.Cierre %}
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{hCierre}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% else %}
                    		<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    	{% endif %}
                    {% else %}
                    	<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                    {% endif %} 
              {{ field.errors }}
               </div>
               	</div>
 
			
			
			<esquemaform action="." method="post" class="form form-vertical">
                {% csrf_token %}
                {% endfor %}
                {% for field in esquemaform %}
                <div class="control-group">
                  <div class="controls">
                  	
                  	
                  	{% ifequal field.name "esquema" %}
                  	
                  		<div  id = "myesquema">
                		
                		<h5>{{field.label}} (*)</h5>
                		<select onchange="getval(this);" class = "esquema" id="id_esquema" name="esquema" style="background-color:#fff;color:#A0A0A0;border:1px solid #ccc;padding: 4px 8px;border-radius:7px;width: 100%;height: 34px !important;" >
						<option value ="" select disable style="display:none;">Seleccione una opción</option>
						{% if estacionamiento.Esquema == "Hora" or field.value == "Hora" %}
							<option value="Hora" selected style ="color:#000;">Por hora</option>	
						{% else %}
							<option value="Hora" style ="color:#000;">Por hora</option>
						{% endif %}
						{% if estacionamiento.Esquema == "Minuto" or field.value == "Minuto" %}
							<option value="Minuto" selected style = "color:#000;">Por minuto</option>
						{% else %}
							<option value="Minuto" style = "color:#000;">Por minuto</option>
						{% endif %}
						{% if estacionamiento.Esquema == "HoraFraccion" or field.value == "HoraFraccion"%}
							<option value="HoraFraccion" selected style = "color:#000;">Hora y fracción</option>
						{% else %}	
							<option value="HoraFraccion" style = "color:#000;">Hora y fracción</option>
						{% endif %}
						{% if estacionamiento.Esquema == "DifHora" or field.value == "DifHora"%}
							<option value="DifHora" selected style = "color:#000;">Diferenciado por hora</option>
						{% else %}
							<option value="DifHora" style = "color:#000;">Diferenciado por hora</option>
						{% endif %}
						{% if estacionamiento.Esquema == "DifFin" or field.value == "DifFin"%}
							<option value="DifFin" selected style = "color:#000;">Diferenciado por fin de semana</option>
						{% else %}
							<option value="DifFin" style = "color:#000;">Diferenciado por fin de semana</option>
						{% endif %}
						</select> 
						
						<script>
	
						$("#id_esquema").change(function(){ 
							 if ($("#id_esquema").val() == "DifHora"){
	    						$("#IniHorarioPico").show();
	 							$("#FinHorarioPico").show();
	 							$("#TarifaPico").show();
	 							$("#TarifaFin").hide();
	 						}
	 						else if ($("#id_esquema").val() == "DifFin"){
	 							$("#IniHorarioPico").hide();
	 							$("#FinHorarioPico").hide();
	 							$("#TarifaPico").hide();
	 							$("#TarifaFin").show();
	 						}
	 						else{
	 							$("#IniHorarioPico").hide();
	 							$("#FinHorarioPico").hide();
	 							$("#TarifaPico").hide();
	 							$("#TarifaFin").hide();
	 						}
						});
			
						</script>

					
						</div>
						
						
					{%endifequal%}

	
                   	{% ifequal field.name "tarifa" %}
                   	 <h5>{{field.label}} (*)</h5>
                   	 {% if field.value %}
                   	 	<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{field.value}}"for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                   	 {% elif esquema.Tarifa %}
                   	 	<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{esquema.Tarifa}}"for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                   	 {% else %}
                   	 	<input type="text" class="form-control" name="{{field.name}}" placeholder="" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                   	 {% endif %}	
                   	{%endifequal%}
                   	
                   	
                   	{% if field.name == "hora_picoini" %}
                		<div id = "IniHorarioPico" >
                		<h5>{{field.label}} (*)</h5>
                		{% if field.value %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{field.value}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% elif esquema.PicoFin %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{pIni}}"for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% else %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% endif %}
                		</div>
                		
                	{% endif%}
                	
                	{% if field.name == "hora_picofin"%}
                		<div id = "FinHorarioPico" >
                		<h5>{{field.label}} (*)</h5>
                		{% if field.value %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{field.value}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% elif esquema.PicoFin %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" value="{{pFin}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% else %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="hh:mm" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="El formato correcto es HH:MM"><p>
                		{% endif %}
                		</div>
                	{% endif%}
                	
                	{% if field.name == "tarifa_pico"%}
                   		<div id = "TarifaPico" >
                   		<h5>{{field.label}} (*)</h5>
                   		{% if esquema.TarifaPico %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{esquema.TarifaPico}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                		{% else %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                		{% endif %}	
                		</div>
             		{% endif %}
             		
             		{% if field.name == "tarifa_fin"%}
                   		<div id = "TarifaFin" >
                   		<h5>{{field.label}} (*)</h5>
                   		{% if esquema.TarifaFin %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="" value="{{esquema.TarifaFin}}" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                		{% else %}
                			<input type="text" class="form-control" name="{{field.name}}" placeholder="" for="id_{{field.name}}" id="id_{{field.name}}" data-toggle="popover" title="¡Atento!" data-content="Solo números con hasta dos cifras de decimal"><p>
                		{% endif %}	
                		</div>
             		{% endif %}
        			<script>
                		if ($("#id_esquema").val() != "DifHora" && $("#id_esquema").val() != "DifFin"){
                			$("#IniHorarioPico").hide();
                			$("#FinHorarioPico").hide();
                			$("#TarifaPico").hide();
                			$("#TarifaFin").hide();
                			}
                		else if ($("#id_esquema").val() == "DifHora"){
	    						$("#IniHorarioPico").show();
	 							$("#FinHorarioPico").show();
	 							$("#TarifaPico").show();
	 							$("#TarifaFin").hide();
	 						}
	 					else if ($("#id_esquema").val() == "DifFin"){
	 							$("#IniHorarioPico").hide();
	 							$("#FinHorarioPico").hide();
	 							$("#TarifaPico").hide();
	 							$("#TarifaFin").show();
	 						}
                	</script>
        			        			
					{{ field.errors }}
					
                {% endfor %}
             
                </div>
                	</div>
                <div class="control-group">
                  <label>
                  </label>
                  <div class="controls">
                    <button type="submit" class="btn btn-primary">
                      Parametrizar Estacionamiento
                    </button>
                  </div>
                </div>
                 </h></tr>

                </esquemaform>
                


             </form>
              
              
            </div>

            <!--/panel content-->
          </div>
          <!--/panel-->
          
          <!--/panel-->
          
        </div><!--/col-span-9-->
    
  </div><!--/row-->
  <!-- /upper section -->
  
  <!-- lower section -->
  <!--/row-->

</div><!--/container-->


    <script type="text/javascript" src="{% static 'js/jquery-2.1.1.min.js'%}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js'%}"></script>

</body>

</html>
